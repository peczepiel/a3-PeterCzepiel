<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Click Game with per-user high scores. Built for CS4241 assignment." />
    <title>Click Game — High Scores</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/main.css" />

    <script src="js/main.js" defer></script>
  </head>
  <body class="bg-dark text-light">
    <a class="skip-link visually-hidden-focusable" href="#mainContent">Skip to main content</a>
    <header class="container py-4">
      <div class="d-flex align-items-center justify-content-between">
        <h1 class="h3 mb-0">Click Game</h1>
        <nav aria-label="Main navigation">
          <ul class="nav">
            <li class="nav-item" id="nav-user-area"></li>
            <li class="nav-item"><button id="logoutBtn" class="btn btn-sm btn-outline-light ms-2 d-none">Logout</button></li>
          </ul>
        </nav>
      </div>
    </header>

    <main class="container" id="mainContent">
      <section id="authSection" class="row gy-3">
        <div class="col-12 col-md-6">
          <div class="card bg-secondary text-light">
            <div class="card-body">
              <h2 class="card-title h5">Sign in or Register</h2>
              <p class="small">If you don't have an account, register and you'll be auto-logged in. For grading use <strong>grader@example.com</strong> / <strong>graderpass123</strong>.</p>

              <form id="loginForm" class="mb-3" aria-labelledby="loginHeading">
                <label for="loginUsername" class="form-label">Email</label>
                <input id="loginUsername" class="form-control" type="email" required aria-required="true" autocomplete="email" />
                <label for="loginPassword" class="form-label mt-2">Password</label>
                <input id="loginPassword" class="form-control" type="password" required aria-required="true" minlength="6" autocomplete="current-password" />
                <div class="mt-3 d-flex gap-2">
                  <button type="submit" class="btn btn-primary">Login</button>
                  <button id="showRegister" type="button" class="btn btn-outline-light">Register</button>
                </div>
                <div id="authMessage" role="status" aria-live="polite" class="mt-2"></div>
              </form>

              <form id="registerForm" class="mb-0 d-none" aria-hidden="true">
                <label for="registerUsername" class="form-label">Email</label>
                <input id="registerUsername" class="form-control" type="email" required aria-required="true" autocomplete="email" />
                <label for="registerPassword" class="form-label mt-2">Password</label>
                <input id="registerPassword" class="form-control" type="password" required aria-required="true" minlength="6" autocomplete="new-password" />
                <div class="mt-3 d-flex gap-2">
                  <button id="registerSubmit" type="submit" class="btn btn-success">Register & Sign in</button>
                  <button id="cancelRegister" type="button" class="btn btn-outline-light">Cancel</button>
                </div>
                <div id="registerMessage" role="status" aria-live="polite" class="mt-2"></div>
              </form>

            </div>
          </div>
        </div>

        <div class="col-12 col-md-6">
          <div class="card bg-secondary text-light">
            <div class="card-body">
              <h2 class="card-title h5">Play</h2>

              <form id="nameForm" class="mb-3" aria-label="Start game form">
                <label for="yourname" class="form-label">Run label (what do you want to call this attempt?)</label>
                <input type="text" id="yourname" class="form-control" placeholder="e.g., 'afternoon run'" required />
                <div class="mt-3">
                  <button type="submit" class="btn btn-warning" aria-label="Start game">Start Game</button>
                </div>
              </form>

              <div id="gameArea" class="hidden" aria-hidden="true">
                <p id="timer" class="mb-1" aria-live="polite">Time left: 10</p>
                <p id="clickCountDisplay" class="mb-2">Clicks: 0</p>
                <button id="clickButton" class="click-box btn" aria-pressed="false" aria-label="Click target — press repeatedly to increase your score">CLICK ME!</button>
              </div>

              <div id="gameMessage" role="status" aria-live="polite" class="mt-2"></div>
            </div>
          </div>
        </div>
      </section>

      <section id="resultsSection" class="mt-4">
        <h2 class="h5">My High Scores</h2>
        <div class="table-responsive">
          <table id="scoreTable" class="table table-dark table-striped" aria-describedby="scoresDesc">
            <caption id="scoresDesc" class="visually-hidden">List of saved runs for the logged in user</caption>
            <thead>
              <tr>
                <th scope="col">Label</th>
                <th scope="col">Score</th>
                <th scope="col">Clicks/sec</th>
                <th scope="col">When</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>
    </main>

    <footer class="container py-4 text-muted small">
      <div>Built for Assignment 3 CS4241.</div>
    </footer>
  </body>
</html>
